---
title: "Country heatmap"
author: "Michael Beer"
output: html_document
---

```{r load-packages, message = FALSE}
library(tidyverse)
library("ggplot2")
library("sf")
library("rnaturalearth")
library("rnaturalearthdata")
library(rgeos)
theme_set(theme_void())
suicides <- read_csv("../data/master.csv")
```

```{r world}
world <- ne_countries(scale = "medium", returnclass = "sf") %>%
  filter(type == "Sovereign country" | type == "Country")
```

```{r total-suicides-country-per-pop}
  suicide_heat <- suicide_rates %>%
  rename(name_long = 'country')
```

```{r world-map-suicides}
  suicidemap <- merge(world, suicide_heat, by="name_long", all=TRUE)
```

```{r heatmap}
  ggplot(data = suicidemap) +
    geom_sf(aes(fill = suicide_rates)) +
        labs(title = "Suicide Rates Per Country", fill = "Suicide Rates Per \n 100k People") +
           scale_fill_continuous(low="thistle2", high="darkred", 
                       guide="colorbar",na.value="grey") +
                            theme(panel.background = element_rect(fill = "ivory", color = "black"))
```